extends ../../shared-template/default.jade

block title
    title Choose Issue Tracker
    
block head
    script(src='//code.jquery.com/jquery-2.1.4.min.js')
    script(src='//oss.maxcdn.com/semantic-ui/2.1.3/components/transition.min.js')
    script(src='//oss.maxcdn.com/semantic-ui/2.1.3/components/checkbox.min.js')

block body
    .ui.container
        .ui.five.top.attached.steps
            .completed.step
                i.users.icon
                .content
                    .title Students
                    .description Choose Students to Participate
            .completed.step
                i.git.square.icon
                .content
                    .title Repository
                    .description Choose a Seed Repository
            .active.step
                i.columns.icon
                .content
                    .title Issues
                    .description Choose Issue Tracker
            .disabled.step
                i.info.icon
                .content
                    .title Assessment
                    .description Choose Assessment System
            .disabled.step
                i.info.icon
                .content
                    .title Confirm
                    .description Confirm Selections
        form.ui.attached.large.form(action = prefix + '/recipe/code-project/choose-issue-tracker', method='POST')
            .ui.attached.stacked.segment
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='useTaiga', class='hidden', checked)
                        label Use Taiga as an Issue Tracker
                .field
                    label Issue Tracker Description
                    input(type='text', name='description', placeholder='some snazzy description' required)
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='isPrivate', class='hidden')
                        label Make Issue Tracker Private
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='hasIssues', class='hidden', checked)
                        label Enable Issues
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='hasBacklog', class='hidden', checked)
                        label Enable Scrum Backlog
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='hasKanban', class='hidden')
                        label Enable Kanban Board
                .field
                    .ui.toggle.checkbox
                        input(type='checkbox', name='hasWiki', class='hidden')
                        label Enable Wiki
                        
                a.ui.large.secondary.submit.button(href = prefix + '/recipe/code-project/choose-repository') previous
                input.ui.large.teal.submit.button(type='submit', value='next')
    script.
        $('.ui.checkbox').checkbox();
        var taigaCheckbox = $('input[name=useTaiga]');
        var taigaDescription = $('input[name=description]');
        taigaCheckbox.change(function () {
            taigaDescription.prop('required', taigaCheckbox.is(':checked'));
        });
